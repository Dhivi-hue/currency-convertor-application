<!DOCTYPE html>
<html>
<head>
<title>Currency Converter Application</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #e7f3ff;
    margin: 0;
    color: #0d1b2a;
    transition: 0.4s ease-in-out;
}

/* HEADER */
h1 {
    text-align: center;
    padding: 20px;
    background: #0e3a60;
    margin: 0;
    color: #d4f1ff;
    font-size: 26px;
    letter-spacing: 1px;
    border-bottom: 5px solid #6ec6ff;
    transition: 0.4s;
}

/* MAIN CONTAINER */
.container {
    width: 460px;
    margin: 30px auto;
    background: white;
    padding: 25px;
    border-radius: 12px;
    box-shadow: 0 0 20px rgba(0,150,255,0.3);
    transition: 0.4s ease-in-out;
}

/* TITLES */
.sectionTitle {
    font-size: 19px;
    font-weight: bold;
    color: #0d4b7c;
    margin-top: 25px;
    text-shadow: 0 0 4px #8ae6ff;
    transition: 0.4s;
}

label {
    font-weight: bold;
    margin-top: 12px;
    display: block;
}

input, select {
    width: 100%;
    padding: 12px;
    border: 2px solid #0d4b7c;
    border-radius: 8px;
    margin-top: 8px;
    font-size: 15px;
    transition: 0.3s;
}

input:focus, select:focus {
    box-shadow: 0 0 10px #8ae6ff;
}

button {
    width: 100%;
    padding: 12px;
    background: #0d4b7c;
    border: none;
    color: white;
    border-radius: 8px;
    font-size: 16px;
    margin-top: 18px;
    cursor: pointer;
    transition: 0.3s;
}

button:hover {
    background: #092f56;
    box-shadow: 0 0 12px #80eaff;
}

/* OUTPUT BOX */
.output {
    margin-top: 15px;
    padding: 15px;
    background: #f1fbff;
    border-left: 5px solid #0d4b7c;
    border-radius: 7px;
    font-size: 17px;
    transition: 0.4s;
}

/* FLAGS */
.flag {
    width: 45px;
    height: 30px;
    border-radius: 5px;
    margin-right: 10px;
}

.flagBox {
    display: flex;
    align-items: center;
    margin-top: 12px;
}

/* TABLE */
table {
    width: 100%;
    border-collapse: collapse;
    margin-top: 10px;
}

th {
    background: #d9f3ff;
    padding: 8px;
}

td {
    background: #f4fcff;
    padding: 8px;
}

table, th, td {
    border: 1px solid #0d4b7c;
}


/* ‚ú® DARK MODE ‚ú® */
.dark {
    background: #0a0f14;
    color: #eaffff;
}

.dark h1 {
    background: #020f1e;
    color: #c7f5ff;
    border-bottom: 5px solid #00e1ff;
}

.dark .container {
    background: #0f1c27;
    box-shadow: 0 0 25px rgba(0,255,255,0.3);
}

.dark .sectionTitle {
    color: #89faff;
}

.dark .output {
    background: #0b151d;
    border-left: 5px solid #00d7ff;
}


/* üåô SUN/MOON FLOATING BUTTON ON RIGHT SIDE */
#modeToggle {
    position: fixed;
    right: 25px;
    top: 25px;
    width: 55px;
    height: 55px;
    border-radius: 50%;
    background: radial-gradient(circle, #99e6ff, #0099cc);
    box-shadow: 0 0 15px #66e0ff;
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    z-index: 9999;
    transition: 0.4s ease-in-out;
}

#modeToggle:hover {
    box-shadow: 0 0 25px #00f3ff;
    transform: scale(1.1);
}

#modeIcon {
    font-size: 26px;
    transition: 0.4s ease-in-out;
}

/* DARK MODE BUTTON STYLE */
.dark #modeToggle {
    background: radial-gradient(circle, #00ffbf, #007a5a);
    box-shadow: 0 0 20px #00ffbf;
}

.dark #modeIcon {
    color: #eaffff;
}
</style>
</head>

<body>

<!-- üåô FLOATING TOGGLE BUTTON -->
<div id="modeToggle">
    <div id="modeIcon">üåô</div>
</div>

<h1>Currency Converter Application</h1>

<div class="container">

<!-- unchanged content exactly -->
<div class="sectionTitle">1. Currency Conversion</div>

<label>Enter Amount</label>
<input type="number" id="amount" placeholder="Enter amount">

<label>From Currency</label>
<select id="from"></select>

<label>To Currency</label>
<select id="to"></select>

<button onclick="convertCurrency()">Convert</button>

<div id="flagOutput" class="flagBox"></div>

<div id="result" class="output">Converted amount appears here.</div>
<div id="time" class="output">Last updated time appears here.</div>

<div class="sectionTitle">2. Historical Rate Analysis</div>

<select id="histCur">
    <option value="USD">USD ‚Üí INR</option>
    <option value="EUR">EUR ‚Üí INR</option>
    <option value="GBP">GBP ‚Üí INR</option>
</select>

<button onclick="showHistory()">Show 5-Year Historical Trend</button>

<div id="historyBox" class="output">Historical trend data appears here.</div>

<div class="sectionTitle">3. Prediction Analysis</div>

<button onclick="predict()">Predict Strongest Currency</button>

<div id="predictBox" class="output">Prediction appears here.</div>

<div class="sectionTitle">4. Multi-Currency Conversion Table</div>

<input type="number" id="tableAmt" placeholder="Enter amount">
<button onclick="multiConvert()">Convert to All</button>

<div class="output">
    <table id="multiTable">
        <tr><th>Currency</th><th>Converted Value</th></tr>
    </table>
</div>

</div>

<script>
// (your original JS‚Äîunchanged)
const currencyList = {
    "USD": "us", "INR": "in", "EUR": "eu", "GBP": "gb", "JPY": "jp",
    "AUD": "au", "CAD": "ca", "CNY": "cn", "NZD": "nz", "CHF": "ch",
    "SGD": "sg", "AED": "ae", "SAR": "sa", "ZAR": "za", "KRW": "kr"
};

const fromSel = document.getElementById("from");
const toSel = document.getElementById("to");

for (let c in currencyList) {
    fromSel.innerHTML += `<option value="${c}">${c}</option>`;
    toSel.innerHTML += `<option value="${c}">${c}</option>`;
}

async function convertCurrency() {
    let amount = document.getElementById("amount").value;
    let from = document.getElementById("from").value;
    let to = document.getElementById("to").value;
    if (!amount) { alert("Please enter amount"); return; }

    try {
        const res = await fetch(`https://api.exchangerate-api.com/v4/latest/${from}`);
        const data = await res.json();
        let rate = data.rates[to];
        let converted = (amount * rate).toFixed(2);

        document.getElementById("flagOutput").innerHTML = `
            <img class="flag" src="https://flagcdn.com/w40/${currencyList[from]}.png">
            <span style="font-size: 25px;">‚Üí</span>
            <img class="flag" src="https://flagcdn.com/w40/${currencyList[to]}.png">
        `;

        document.getElementById("result").innerHTML =
            `<b>${amount} ${from} = ${converted} ${to}</b>`;

        let now = new Date();
        document.getElementById("time").innerHTML =
            `Last Updated: ${now.toLocaleTimeString()} | ${now.toDateString()}`;
    } catch {
        document.getElementById("result").innerHTML = "‚ö† Unable to fetch live exchange rates.";
    }
}

const historyData = {
    USD: [70,72,74,77,83],
    EUR: [78,80,82,85,90],
    GBP: [88,90,92,95,101]
};

function showHistory(){
    let c = document.getElementById("histCur").value;
    let h = historyData[c];
    document.getElementById("historyBox").innerHTML = `
        <b>5-Year Growth (${c} ‚Üí INR)</b><br><br>
        2019: ${h[0]} INR<br>
        2020: ${h[1]} INR<br>
        2021: ${h[2]} INR<br>
        2022: ${h[3]} INR<br>
        2023: ${h[4]} INR
    `;
}

function predict(){
    let growth = {
        USD: historyData.USD[4] - historyData.USD[0],
        EUR: historyData.EUR[4] - historyData.EUR[0],
        GBP: historyData.GBP[4] - historyData.GBP[0]
    };

    let best = "";
    let max = 0;
    for (let c in growth) {
        if (growth[c] > max) { best = c; max = growth[c]; }
    }

    document.getElementById("predictBox").innerHTML =
        `Strongest currency based on 5-year trend: <b>${best}</b>`;
}

async function multiConvert() {
    let amt = document.getElementById("tableAmt").value;
    if (!amt) { alert("Enter amount"); return; }

    const res = await fetch(`https://api.exchangerate-api.com/v4/latest/USD`);
    const data = await res.json();

    let table = document.getElementById("multiTable");
    table.innerHTML = `<tr><th>Currency</th><th>Value</th></tr>`;

    for (let c in currencyList) {
        let value = (amt * data.rates[c]).toFixed(2);
        table.innerHTML += `
            <tr><td>${c}</td><td>${value}</td></tr>`;
    }
}

/* üåô DARK MODE JS */
let dark = false;
document.getElementById("modeToggle").onclick = function(){
    dark = !dark;
    document.body.classList.toggle("dark");
    document.getElementById("modeIcon").innerHTML = dark ? "‚òÄÔ∏è" : "üåô";
};
</script>

</body>
</html>
